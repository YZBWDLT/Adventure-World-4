# 冒险小世界：剑之试炼

一张 Minecraft 基岩版 1.21.0 的自定义 PVE 地图

## 作者

一只卑微的量筒
狂野巴豆

**极筑工坊**出品

## 简介

还记得《冒险世界：苏醒》所发生的故事吗？在那一段冒险结束之后，村里又发生了一件不寻常的事情，故事的续写也从此开始……

本地图为冒险世界系列作品中的小插曲，为 PVE 类型，未玩过前作也可以放心体验。同时也欢迎游玩前作《冒险世界：逃离》《冒险世界：苏醒》和《冒险世界：迷失》，点击作者头像打开作品页面即可找到。

本地图制作耗时极长，内容和机制十分完善。拥有精美的建筑；全程无命令方块，使用函数驱动；拥有药水、武器等多种自定义物品；各种怪物都进行了不同程度的修改，更具有趣味性和挑战性；可以单人或多人游玩，动态难度会根据游玩人数变化。

## 更新日志

> 版本号：Alpha 4.2_03

### 动效更新

- 隆重介绍小世界的一项重大更新 —— 动效更新！
- 此更新让地图中的 NPC 变得更加灵动，让一些视觉效果更加活泼
- 为村庄新增了后山和张宇商店的告示牌，以防玩家迷路
- 现在与 NPC 的对话会用醒目的品红色标明重点，就像苏醒和筑梦一样
- 现在在试炼中与 NPC 的传声石结晶对话会标明是第几句，就像结尾作者对话一样
- #60 新增了公告栏
  - 负责更“高级”地给我们打广告 :)
  - 会在村庄剧情中出现
  - 无法穿过
- #61 #72 优化了大多数剧情的相机视角设计，因此现在多人模式下不再会满屏只看到正在显示的玩家的正脸
- #93 现在在 6-4 和 7-0（剑之神殿）中，“感觉身体轻飘飘的”现在拥有了漂浮效果
- #94 现在 NPC 拥有动作了！
  - 和筑梦一样，引入了同款动作
  - 这些动作会在剧情模式中生动地体现出来
  - NPC 说每句话时都能播放动作，有些特殊的话还有特别的大动作
  - #79 现在田英在 3-1 的动画中是躺下的了
  - 现在张宇在商店内默认是坐下的了
- 为结束特效第一阶段添加了筑梦相关的过渡动画

### 漏洞修复与特性优化

- #89 现在在村庄剧情中，自动为玩家指路时间神殿的时限由 3 分钟延长到了 5 分钟
- #96 现在上一周目的玩家进入下一周目后不再会保留上一周目的数据（例如击杀数、死亡数等）
- #98 现在完成关卡或关卡失败会正确地重置药效
- 修复了 6-4 和 7-5 的倒计时重生机制的多个错误：
  - 现在难度 1~4 下的重生倒计时分别为 30、60、90、120 秒
  - 修复了在倒计时结束前没有标题提示玩家复活倒计时的问题
  - 修复了在 7-5 会错误地重生在 6-4 的问题
  - #99 修复了在死亡最大增益（抗性提升 V）的情况下，唤魔法师的火球依旧可以造成大量伤害的问题
- #100 现在死亡消息仅限在多人模式下播报
- 修复了张宇商店可能因某些原因未开放的问题
- 修复了在高版本下，Minecraft 的内容日志会警告`blocks.json`的`format_version`未指定的问题
- 移除了 1.21.0 的版本限制
  - 因此，Vibrant Visuals 在本地图中可用

### 底层更新

- 新增了`gameId.@s`和`data.gameId`变量
- 将`lib/modify_data/`下的多个函数移动到了`lib/events/`下
- 将`lib/modify_data/states/`下的多个函数移动到了`lib/modify_data/`下
- 将`system/controller/`下的多个函数移动到了`system/`下
- 现在与 NPC 交互会触发关卡下的`levels/.../events/interact_with_npc`函数，而不再是统一在`entities/npc/interacted`列出
